{% extends "base.html" %}

{% block title %}–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∏{% endblock %}

{% block content %}
<div class="equipment-catalog">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ -->
    <div class="catalog-header">
        <h1>üîß –ö–∞—Ç–∞–ª–æ–≥ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h1>
        <p class="catalog-description">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–æ–∫ –≤ –æ–±–ª–∞—Å—Ç–∏ —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∏</p>
    </div>

    <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
    <div class="category-filters">
        <div class="filter-buttons">
            <button class="filter-btn active" data-category="all">
                <i class="fas fa-th-large"></i>
                –í—Å–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
            </button>
            <button class="filter-btn" data-category="workstation">
                <i class="fas fa-desktop"></i>
                –†–∞–±–æ—á–∏–µ –º–µ—Å—Ç–∞
            </button>
            <button class="filter-btn" data-category="3d">
                <i class="fas fa-print"></i>
                3D-–ø–µ—á–∞—Ç—å
            </button>
            <button class="filter-btn" data-category="robots">
                <i class="fas fa-robot"></i>
                –†–æ–±–æ–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä—ã
            </button>
            <button class="filter-btn" data-category="drones">
                <i class="fas fa-helicopter"></i>
                –ë–ü–õ–ê
            </button>
            <button class="filter-btn" data-category="cnc">
                <i class="fas fa-cog"></i>
                –ß–ü–£ —Å—Ç–∞–Ω–∫–∏
            </button>
        </div>
        
        <!-- –ü–æ–∏—Å–∫ -->
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="equipmentSearch" placeholder="–ü–æ–∏—Å–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è...">
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="equipment-stats">
        <div class="stat-card">
            <div class="stat-icon available">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-info">
                <span class="stat-number">8</span>
                <span class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ</span>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon busy">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-info">
                <span class="stat-number">3</span>
                <span class="stat-label">–ó–∞–Ω—è—Ç–æ</span>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon maintenance">
                <i class="fas fa-tools"></i>
            </div>
            <div class="stat-info">
                <span class="stat-number">1</span>
                <span class="stat-label">–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</span>
            </div>
        </div>
    </div>

    <!-- –°–µ—Ç–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è -->
    <div class="equipment-grid" id="equipmentGrid">
        <!-- –†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ HP -->
        <div class="equipment-card" data-category="workstation" data-name="—Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ hp –∫–æ–º–ø—å—é—Ç–µ—Ä">
            <div class="card-image">
                <div class="category-badge workstation">
                    <i class="fas fa-desktop"></i>
                    –†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ
                </div>
                <img src="{{ url_for('static', filename='images/equipment/arm/workstation-hp.jpg') }}" 
                     alt="–†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ HP" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-desktop"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator available"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="1">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">–†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ HP</h3>
                <p class="equipment-description">–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è —Ä–∞–±–æ—á–∞—è —Å—Ç–∞–Ω—Ü–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-microchip"></i>
                        Intel Core i7
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-memory"></i>
                        16GB RAM
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-hdd"></i>
                        512GB SSD
                    </div>
                </div>
                
                <div class="card-actions">
                    <a href="/booking" class="btn btn-primary btn-book">
                        <i class="fas fa-calendar-plus"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{{ url_for('equipment_detail', equipment_id=1) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- 3D-–ø—Ä–∏–Ω—Ç–µ—Ä Designer XL Pro -->
        <div class="equipment-card" data-category="3d" data-name="3d –ø—Ä–∏–Ω—Ç–µ—Ä designer xl pro">
            <div class="card-image">
                <div class="category-badge printing">
                    <i class="fas fa-print"></i>
                    3D-–ø–µ—á–∞—Ç—å
                </div>
                <img src="{{ url_for('static', filename='images/equipment/3d-printing/3d-designer-xl.jpg') }}"
                     alt="3D-–ø—Ä–∏–Ω—Ç–µ—Ä Designer XL Pro" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-print"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator available"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="2">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">3D-–ø—Ä–∏–Ω—Ç–µ—Ä Designer XL Pro</h3>
                <p class="equipment-description">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π 3D-–ø—Ä–∏–Ω—Ç–µ—Ä –¥–ª—è –∫—Ä—É–ø–Ω–æ–≥–∞–±–∞—Ä–∏—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-ruler-combined"></i>
                        300√ó300√ó400mm
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-layer-group"></i>
                        PLA, ABS, PETG
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-bolt"></i>
                        Dual Extrusion
                    </div>
                </div>
                
                <div class="card-actions">
                    <a href="/booking" class="btn btn-primary btn-book">
                        <i class="fas fa-calendar-plus"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{{ url_for('equipment_detail', equipment_id=2) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –†–æ–±–æ—Ç KUKA KR 4 R600 -->
        <div class="equipment-card" data-category="robots" data-name="—Ä–æ–±–æ—Ç kuka kr4 r600">
            <div class="card-image">
                <div class="category-badge robots">
                    <i class="fas fa-robot"></i>
                    –†–æ–±–æ–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä
                </div>
                <img src="{{ url_for('static', filename='images/equipment/robots/robot-kuka-kr4.jpg') }}" 
                     alt="–†–æ–±–æ—Ç-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä KUKA KR 4 R600" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator available"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="3">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">KUKA KR 4 R600</h3>
                <p class="equipment-description">–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π 6-–æ—Å–µ–≤–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Ä–æ–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-weight-hanging"></i>
                        4 –∫–≥
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-arrows-alt-h"></i>
                        600 –º–º
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-bullseye"></i>
                        ¬±0.03 –º–º
                    </div>
                </div>
                
                <div class="card-actions">
                    <a href="/booking" class="btn btn-primary btn-book">
                        <i class="fas fa-calendar-plus"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{{ url_for('equipment_detail', equipment_id=3) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –ö–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–æ–±–æ—Ç LBR iiwa 7 R800 -->
        <div class="equipment-card" data-category="robots" data-name="—Ä–æ–±–æ—Ç lbr iiwa r800">
            <div class="card-image">
                <div class="category-badge robots">
                    <i class="fas fa-robot"></i>
                    –†–æ–±–æ–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä
                </div>
                <img src="{{ url_for('static', filename='images/equipment/robots/robot-lbr-iiwa.jpg') }}" 
                     alt="–ö–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–æ–±–æ—Ç LBR iiwa 7 R800" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator busy"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="4">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">LBR iiwa 7 R800</h3>
                <p class="equipment-description">–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–æ–±–æ—Ç –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-weight-hanging"></i>
                        7 –∫–≥
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-arrows-alt-h"></i>
                        800 –º–º
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-hand-paper"></i>
                        –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π
                    </div>
                </div>
                
                <div class="card-actions">
                    <button class="btn btn-primary btn-book" disabled>
                        <i class="fas fa-clock"></i>
                        –ó–∞–Ω—è—Ç–æ
                    </button>
                    <a href="{{ url_for('equipment_detail', equipment_id=4) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –†–æ–±–æ—Ç Hobots Pro -->
        <div class="equipment-card" data-category="robots" data-name="—Ä–æ–±–æ—Ç hobots pro">
            <div class="card-image">
                <div class="category-badge robots">
                    <i class="fas fa-robot"></i>
                    –†–æ–±–æ–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä
                </div>
                <img src="{{ url_for('static', filename='images/equipment/robots/robot-hobots.jpg') }}" 
                     alt="–†–æ–±–æ—Ç-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä Hobots Pro" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator maintenance"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="5">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">Hobots Pro</h3>
                <p class="equipment-description">–®–µ—Å—Ç–∏–æ—Å–µ–≤–æ–π –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–æ–±–æ—Ç-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–¥–∞—á</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-weight-hanging"></i>
                        5 –∫–≥
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-arrows-alt-h"></i>
                        900 –º–º
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-bolt"></i>
                        Torque Sensing
                    </div>
                </div>
                
                <div class="card-actions">
                    <button class="btn btn-primary btn-book" disabled>
                        <i class="fas fa-tools"></i>
                        –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
                    </button>
                    <a href="{{ url_for('equipment_detail', equipment_id=5) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –î—Ä–æ–Ω Iflight Quadcopter -->
        <div class="equipment-card" data-category="drones" data-name="–¥—Ä–æ–Ω iflight quadcopter">
            <div class="card-image">
                <div class="category-badge drones">
                    <i class="fas fa-helicopter"></i>
                    –ë–ü–õ–ê
                </div>
                <img src="{{ url_for('static', filename='images/equipment/drones/drone-iflight.jpg') }}"  
                     alt="–î—Ä–æ–Ω Iflight Quadcopter" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-helicopter"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator available"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="6">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">Iflight Quadcopter</h3>
                <p class="equipment-description">4-–æ—Å–µ–≤–æ–π —Å–∫–ª–∞–¥–Ω–æ–π –∫–æ–ø—Ç–µ—Ä –∏–∑ —É–≥–ª–µ—Ä–æ–¥–Ω–æ–≥–æ –≤–æ–ª–æ–∫–Ω–∞ —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º PCB</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-compress-alt"></i>
                        –°–∫–ª–∞–¥–Ω–æ–π
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-atom"></i>
                        –£–≥–ª–µ—Ä–æ–¥–Ω–æ–µ –≤–æ–ª–æ–∫–Ω–æ
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-microchip"></i>
                        –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PCB
                    </div>
                </div>
                
                <div class="card-actions">
                    <a href="/booking" class="btn btn-primary btn-book">
                        <i class="fas fa-calendar-plus"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{{ url_for('equipment_detail', equipment_id=6) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –î—Ä–æ–Ω ZOHD Dart250G -->
        <div class="equipment-card" data-category="drones" data-name="–¥—Ä–æ–Ω zohd dart250g">
            <div class="card-image">
                <div class="category-badge drones">
                    <i class="fas fa-plane"></i>
                    –ë–ü–õ–ê
                </div>
                <img src="{{ url_for('static', filename='images/equipment/drones/drone-zohd.jpg') }}" 
                     alt="–î—Ä–æ–Ω ZOHD Dart250G" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-plane"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator available"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="7">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">ZOHD Dart250G</h3>
                <p class="equipment-description">–°–∞–º–æ–ª–µ—Ç–Ω—ã–π –ë–ü–õ–ê —Å —Ä–∞–∑–º–∞—Ö–æ–º –∫—Ä—ã–ª—å–µ–≤ 570 –º–º, –≤–µ—Å –º–µ–Ω–µ–µ 250 –≥—Ä–∞–º–º</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-ruler"></i>
                        570 –º–º
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-weight"></i>
                        <250 –≥
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-rocket"></i>
                        –°—Ç—Ä–µ–ª–æ–≤–∏–¥–Ω—ã–π
                    </div>
                </div>
                
                <div class="card-actions">
                    <a href="/booking" class="btn btn-primary btn-book">
                        <i class="fas fa-calendar-plus"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{{ url_for('equipment_detail', equipment_id=7) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –ß–ü–£ —Å—Ç–∞–Ω–æ–∫ –ó–£–ë–† -->
        <div class="equipment-card" data-category="cnc" data-name="—á–ø—É —Å—Ç–∞–Ω–æ–∫ –∑—É–±—Ä –∑–ø—Ç–∫">
            <div class="card-image">
                <div class="category-badge cnc">
                    <i class="fas fa-cog"></i>
                    –ß–ü–£ —Å—Ç–∞–Ω–æ–∫
                </div>
                <img src="{{ url_for('static', filename='images/equipment/cnc/cnc-zubr.jpg') }}" 
                     alt="–ß–ü–£ —Å—Ç–∞–Ω–æ–∫ –ó–£–ë–† –ó–ü–¢–ö-210-1500" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-cog"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator available"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="8">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">–ó–£–ë–† –ó–ü–¢–ö-210-1500</h3>
                <p class="equipment-description">–¢–æ—Ä—Ü–æ–≤–æ—á–Ω–∞—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∏–ª–∞ —Å –ß–ü–£ –¥–ª—è —Ç–æ—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-ruler"></i>
                        √ò210 –º–º
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-bolt"></i>
                        1500 –í—Ç
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-compass"></i>
                        –¢–æ—Ä—Ü–æ–≤–æ—á–Ω–∞—è
                    </div>
                </div>
                
                <div class="card-actions">
                    <a href="/booking" class="btn btn-primary btn-book">
                        <i class="fas fa-calendar-plus"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{{ url_for('equipment_detail', equipment_id=8) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –°–≤–µ—Ä–ª–∏–ª—å–Ω–æ-—Ñ—Ä–µ–∑–µ—Ä–Ω—ã–π —Å—Ç–∞–Ω–æ–∫ VM18L -->
        <div class="equipment-card" data-category="cnc" data-name="—Å—Ç–∞–Ω–æ–∫ vm18l —Å–≤–µ—Ä–ª–∏–ª—å–Ω–æ —Ñ—Ä–µ–∑–µ—Ä–Ω—ã–π">
            <div class="card-image">
                <div class="category-badge cnc">
                    <i class="fas fa-tools"></i>
                    –ß–ü–£ —Å—Ç–∞–Ω–æ–∫
                </div>
                <img src="{{ url_for('static', filename='images/equipment/cnc/cnc-vm18l.jpg') }}" 
                     alt="–°–≤–µ—Ä–ª–∏–ª—å–Ω–æ-—Ñ—Ä–µ–∑–µ—Ä–Ω—ã–π —Å—Ç–∞–Ω–æ–∫ VM18L" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="image-placeholder">
                    <i class="fas fa-tools"></i>
                </div>
                <div class="card-overlay">
                    <div class="status-indicator busy"></div>
                    <!-- –ö–ù–û–ü–ö–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û -->
                    <button class="favorite-btn" data-equipment-id="9">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
            <div class="card-content">
                <h3 class="equipment-title">VM18L –°–≤–µ—Ä–ª–∏–ª—å–Ω–æ-—Ñ—Ä–µ–∑–µ—Ä–Ω—ã–π</h3>
                <p class="equipment-description">–ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π —Å—Ç–∞–Ω–æ–∫ —Å –±–µ—Å—Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ–π —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏</p>
                
                <div class="specs-preview">
                    <div class="spec-tag">
                        <i class="fas fa-digital-tachograph"></i>
                        –¶–∏—Ñ—Ä–æ–≤–æ–π
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-sliders-h"></i>
                        –ë–µ—Å—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π
                    </div>
                    <div class="spec-tag">
                        <i class="fas fa-arrows-alt"></i>
                        –ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
                    </div>
                </div>
                
                <div class="card-actions">
                    <button class="btn btn-primary btn-book" disabled>
                        <i class="fas fa-clock"></i>
                        –ó–∞–Ω—è—Ç–æ
                    </button>
                    <a href="{{ url_for('equipment_detail', equipment_id=9) }}" class="btn btn-outline">
                        <i class="fas fa-info-circle"></i>
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.equipment-catalog {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1rem;
}

.catalog-header {
    text-align: center;
    margin-bottom: 3rem;
}

.catalog-header h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.catalog-description {
    font-size: 1.1rem;
    color: #666;
    max-width: 600px;
    margin: 0 auto;
}

.category-filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    gap: 2rem;
    flex-wrap: wrap;
}

.filter-buttons {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.filter-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border: 2px solid #e0e0e0;
    background: white;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    color: #666;
}

.filter-btn:hover {
    border-color: #667eea;
    color: #667eea;
    transform: translateY(-2px);
}

.filter-btn.active {
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-color: #667eea;
    color: white;
}

.search-box {
    position: relative;
    min-width: 300px;
}

.search-box i {
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: #999;
}

.search-box input {
    width: 100%;
    padding: 0.75rem 1rem 0.75rem 3rem;
    border: 2px solid #e0e0e0;
    border-radius: 50px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.search-box input:focus {
    outline: none;
    border-color: #667eea;
}

.equipment-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

.stat-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.stat-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

.stat-icon.available {
    background: #e8f5e8;
    color: #28a745;
}

.stat-icon.busy {
    background: #ffe8e8;
    color: #dc3545;
}

.stat-icon.maintenance {
    background: #fff3cd;
    color: #ffc107;
}

.stat-number {
    font-size: 1.5rem;
    font-weight: bold;
    color: #333;
    display: block;
}

.stat-label {
    color: #666;
    font-size: 0.9rem;
}

.equipment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 2rem;
}

.equipment-card {
    background: white;
    border-radius: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    overflow: hidden;
    position: relative;
}

.equipment-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.15);
}

.card-image {
    position: relative;
    height: 200px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    display: flex;
    align-items: center;
    justify-content: center;
}

.card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.category-badge {
    position: absolute;
    top: 1rem;
    left: 1rem;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    color: white;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,0.2);
}

.category-badge.workstation { background: rgba(102, 126, 234, 0.9); }
.category-badge.printing { background: rgba(40, 167, 69, 0.9); }
.category-badge.robots { background: rgba(255, 193, 7, 0.9); }
.category-badge.drones { background: rgba(0, 123, 255, 0.9); }
.category-badge.cnc { background: rgba(108, 117, 125, 0.9); }

.image-placeholder {
    font-size: 4rem;
    color: rgba(255,255,255,0.9);
    display: none;
}

/* –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø CARD-OVERLAY */
.card-overlay {
    position: absolute;
    top: 1rem;
    right: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.status-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid white;
}

.status-indicator.available { background: #28a745; }
.status-indicator.busy { background: #dc3545; }
.status-indicator.maintenance { background: #ffc107; }

/* –°–¢–ò–õ–ò –î–õ–Ø –ö–ù–û–ü–ö–ò –ò–ó–ë–†–ê–ù–ù–û–ì–û */
.favorite-btn {
    background: rgba(255, 255, 255, 0.9);
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: #dc3545;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.favorite-btn:hover {
    background: white;
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.favorite-btn.favorited {
    color: #dc3545;
    background: white;
}

.favorite-btn.favorited i {
    font-weight: 900;
}

.favorite-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

.card-content {
    padding: 1.5rem;
}

.equipment-title {
    font-size: 1.3rem;
    margin-bottom: 0.75rem;
    color: #2c3e50;
    line-height: 1.3;
}

.equipment-description {
    color: #666;
    margin-bottom: 1.5rem;
    line-height: 1.5;
    font-size: 0.95rem;
}

.specs-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
}

.spec-tag {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.4rem 0.8rem;
    background: #f8f9fa;
    border-radius: 15px;
    font-size: 0.8rem;
    color: #495057;
    font-weight: 500;
}

.spec-tag i {
    font-size: 0.7rem;
    color: #667eea;
}

.card-actions {
    display: flex;
    gap: 0.75rem;
}

.btn-book {
    flex: 2;
    justify-content: center;
}

.btn-outline {
    flex: 1;
    background: transparent;
    border: 2px solid #667eea;
    color: #667eea;
    justify-content: center;
}

.btn-outline:hover {
    background: #667eea;
    color: white;
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .category-filters {
        flex-direction: column;
        align-items: stretch;
    }
    
    .filter-buttons {
        justify-content: center;
    }
    
    .search-box {
        min-width: auto;
    }
    
    .equipment-grid {
        grid-template-columns: 1fr;
    }
    
    .equipment-stats {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .card-overlay {
        flex-direction: column;
        gap: 0.3rem;
    }
    
    .favorite-btn {
        width: 35px;
        height: 35px;
        font-size: 1rem;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const equipmentCards = document.querySelectorAll('.equipment-card');
    const searchInput = document.getElementById('equipmentSearch');
    
    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            const category = this.getAttribute('data-category');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏
            filterEquipment(category, searchInput.value.toLowerCase());
        });
    });
    
    // –ü–æ–∏—Å–∫
    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const activeCategory = document.querySelector('.filter-btn.active').getAttribute('data-category');
        filterEquipment(activeCategory, searchTerm);
    });
    
    function filterEquipment(category, searchTerm) {
        equipmentCards.forEach(card => {
            const cardCategory = card.getAttribute('data-category');
            const cardName = card.getAttribute('data-name').toLowerCase();
            const cardText = card.textContent.toLowerCase();
            
            const categoryMatch = category === 'all' || cardCategory === category;
            const searchMatch = searchTerm === '' || cardName.includes(searchTerm) || cardText.includes(searchTerm);
            
            if (categoryMatch && searchMatch) {
                card.style.display = 'block';
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 50);
            } else {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.display = 'none';
                }, 300);
            }
        });
    }
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫
    equipmentCards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
        
        setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });
});
</script>
<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—à API -->
<script src="{{ url_for('static', filename='js/api.js') }}"></script>

<script>
// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å API
document.addEventListener('DOMContentLoaded', function() {
    console.log('üîß Equipment API –ø–æ–¥–∫–ª—é—á–µ–Ω!');
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
    addUsefulFeatures()
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —á–µ—Ä–µ–∑ API
    updateStatsFromAPI();
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
    loadFavoriteStates();
});

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π 
function addUsefulFeatures() {
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∂–∏–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
    setupLiveSearch();
}

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∂–∏–≤–æ–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API
function setupLiveSearch() {
    const searchInput = document.getElementById('equipmentSearch');
    let searchTimeout;
    
    searchInput.addEventListener('input', function() {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            const searchTerm = this.value.trim();
            
            if (searchTerm.length > 2) {
                performLiveSearch(searchTerm);
            } else if (searchTerm.length === 0) {
                // –ï—Å–ª–∏ –ø–æ–∏—Å–∫ –æ—á–∏—â–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
                showAllEquipment();
            }
        }, 300); // –ó–∞–¥–µ—Ä–∂–∫–∞ 300–º—Å
    });
}

// –í—ã–ø–æ–ª–Ω—è–µ–º –∂–∏–≤–æ–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API
async function performLiveSearch(searchTerm) {
    try {
        showNotification(`üîç –ò—â–µ–º: "${searchTerm}"...`, 'info');
        
        const equipment = await equipmentAPI.searchEquipment(searchTerm);
        
        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏
        document.querySelectorAll('.equipment-card').forEach(card => {
            card.style.display = 'none';
        });
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ
        equipment.forEach(item => {
            const card = document.querySelector(`[data-name*="${item.name.toLowerCase()}"]`);
            if (card) {
                card.style.display = 'block';
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 50);
            }
        });
        
        showNotification(`‚úÖ –ù–∞–π–¥–µ–Ω–æ: ${equipment.length} –µ–¥–∏–Ω–∏—Ü –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è`, 'success');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞:', error);
        showNotification('‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞', 'error');
    }
}

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
function showAllEquipment() {
    document.querySelectorAll('.equipment-card').forEach(card => {
        card.style.display = 'block';
        card.style.opacity = '1';
        card.style.transform = 'translateY(0)';
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
async function testEquipmentAPI() {
    console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º API...');
    
    try {
        const equipment = await equipmentAPI.getAllEquipment();
        const categories = await equipmentAPI.getCategories();
        
        console.log('‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç! –ó–∞–≥—Ä—É–∂–µ–Ω–æ:', {
            equipment: equipment.length,
            categories: categories.length
        });
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        showNotification(`‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç! –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: ${equipment.length}, –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: ${categories.length}`, 'success');
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ API:', error);
        showNotification(`‚ùå –û—à–∏–±–∫–∞ API: ${error.message}`, 'error');
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ API
async function updateStatsFromAPI() {
    try {
        const equipment = await equipmentAPI.getAllEquipment();
        
        const available = equipment.filter(item => item.is_available).length;
        const busy = equipment.filter(item => !item.is_available).length;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–∏—Ñ—Ä—ã –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
        const statNumbers = document.querySelectorAll('.stat-number');
        if (statNumbers[0]) statNumbers[0].textContent = available;
        if (statNumbers[1]) statNumbers[1].textContent = busy;
        
    } catch (error) {
        console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —á–µ—Ä–µ–∑ API, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ');
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
async function loadFavoriteStates() {
    try {
        const response = await fetch('/api/user/favorites');
        const data = await response.json();
        
        if (data.success) {
            // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
            document.querySelectorAll('.favorite-btn').forEach(button => {
                const equipmentId = button.dataset.equipmentId;
                const isFavorited = data.favorites.some(fav => fav.id == equipmentId);
                
                if (isFavorited) {
                    button.innerHTML = '<i class="fas fa-heart"></i>';
                    button.classList.add('favorited');
                } else {
                    button.innerHTML = '<i class="far fa-heart"></i>';
                    button.classList.remove('favorited');
                }
            });
        }
    } catch (error) {
        console.error('Error loading favorite states:', error);
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
async function toggleFavorite(equipmentId, button) {
    try {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
        button.disabled = true;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Ç–æ–¥ (–¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å)
        const isCurrentlyFavorited = button.classList.contains('favorited');
        const method = isCurrentlyFavorited ? 'DELETE' : 'POST';
        
        const response = await fetch(`/api/equipment/${equipmentId}/favorite`, {
            method: method
        });
        
        const result = await response.json();
        
        if (result.success) {
            if (result.favorited) {
                // –î–æ–±–∞–≤–∏–ª–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
                button.innerHTML = '<i class="fas fa-heart"></i>';
                button.classList.add('favorited');
                showNotification('‚ù§Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ', 'success');
            } else {
                // –£–¥–∞–ª–∏–ª–∏ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                button.innerHTML = '<i class="far fa-heart"></i>';
                button.classList.remove('favorited');
                showNotification('–£–¥–∞–ª–µ–Ω–æ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ', 'info');
            }
            
            // –ê–Ω–∏–º–∞—Ü–∏—è
            button.style.transform = 'scale(1.2)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 200);
            
        } else {
            showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
        }
        
    } catch (error) {
        console.error('Toggle favorite error:', error);
        showNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ', 'error');
    } finally {
        button.disabled = false;
    }
}

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
document.addEventListener('click', function(e) {
    if (e.target.closest('.favorite-btn')) {
        const button = e.target.closest('.favorite-btn');
        const equipmentId = button.dataset.equipmentId;
        toggleFavorite(equipmentId, button);
    }
});

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
function showNotification(message, type = 'info') {
    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        color: white;
        font-weight: 500;
        z-index: 10000;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transform: translateX(400px);
        transition: transform 0.3s ease;
    `;
    
    if (type === 'success') {
        notification.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
    } else if (type === 'error') {
        notification.style.background = 'linear-gradient(135deg, #dc3545, #e83e8c)';
    } else {
        notification.style.background = 'linear-gradient(135deg, #667eea, #764ba2)';
    }
    
    notification.textContent = message;
    document.body.appendChild(notification);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
    }, 100);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ
    setTimeout(() => {
        notification.style.transform = 'translateX(400px)';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 4000);
}

// –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
async function loadEquipmentDynamic() {
    try {
        const equipment = await equipmentAPI.getAllEquipment();
        const grid = document.getElementById('equipmentGrid');
        
        console.log('üì¶ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:', equipment);
        showNotification(`üì¶ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${equipment.length} –µ–¥–∏–Ω–∏—Ü –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ API`, 'success');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è:', error);
        showNotification('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è', 'error');
    }
}
</script>

<style>
/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è API —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ */
.btn-api-test:hover {
    opacity: 0.8;
    transform: scale(1.05);
    transition: all 0.2s ease;
}

.api-test-section {
    margin: 2rem 0;
    padding: 1.5rem;
    background: #f8f9fa;
    border-radius: 12px;
    border-left: 4px solid #667eea;
}

.api-controls {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.api-controls button {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
}

.api-controls .btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
}

.api-controls .btn-secondary {
    background: #6c757d;
    color: white;
}

.api-controls button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

#api-result {
    margin-top: 1rem;
    padding: 1rem;
    background: white;
    border-radius: 8px;
    border: 1px solid #e0e0e0;
}

.equipment-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.equipment-item {
    padding: 0.75rem;
    background: #f8f9fa;
    border-radius: 6px;
    border-left: 3px solid #667eea;
}
</style>
{% endblock %}